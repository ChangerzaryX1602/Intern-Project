function sendLatLonToAPI(lat, lon, height, x, a, t, lat_target, long_target, lat_landing, long_landing)
%#codegen
coder.extrinsic('webwrite','weboptions','disp');

url = 'http://192.168.8.185:8080/api/v1/attack';
drone_id = "1B";
status = "Good";
target_destcription = "จุดทิ้งระเบิด";
landing_description = "จุดลงจอด";
target = struct('lat', lat_target, ...
              'lng', long_target, ...
              'target_destcription', target_destcription);
land = struct('lat', lat_landing, ...
              'lng', long_landing, ...
              'target_destcription', landing_description);
disp(class(target))
T = 240 ;
if t == 240
    status = "Done";
end
time_left = T - t;
distance = sqrt((x(1,1))^2 + (x(2,1))^2);
v = x(4:6,1);% matrix 3*1

data = struct('acceleration', a, ... % matrix 3*1
              'distance', distance, ...
              'drone_id', drone_id, ...
              'height', height, ...
              'lat', lat, ...
              'lng', lon, ...
              'status', status, ...
              'time_left', time_left, ...
              'target', target, ...
              'land', land, ...
              'velocity', v);

options = weboptions('MediaType','application/json');
response = webwrite(url, data, options);
disp(response);
end